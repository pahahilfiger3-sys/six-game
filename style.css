:root { --neon-blue: #00f3ff; --neon-pink: #ff00ff; --bg-dark: #0b0b14; --gold: #ffd700; }
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

/* üü¢ –û–ë–ù–û–í–õ–ï–ù–ù–´–ô –§–û–ù: –ì–õ–£–ë–ò–ù–ê + –®–£–ú (FILM GRAIN) */
body { 
    margin: 0; 
    background-color: #030307;
    background-image: 
        /* 1. –ù–ï–û–ù–û–í–´–ï –ì–†–ê–î–ò–ï–ù–¢–´ –î–õ–Ø –ì–õ–£–ë–ò–ù–´ */
        radial-gradient(circle at 15% 25%, rgba(0, 243, 255, 0.08) 0%, transparent 40%),
        radial-gradient(circle at 85% 75%, rgba(255, 0, 255, 0.08) 0%, transparent 40%),
        /* 2. –ù–û–í–´–ô –°–õ–û–ô: –°–¢–ê–¢–ò–ß–ï–°–ö–ò–ô –®–£–ú (–û—á–µ–Ω—å —Ç–æ–Ω–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω) */
        url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5gIUCyUe5h23jAAAAB10RVh0Q29tbWVudEFscGhhYmF0IFNob3BwZXIgMTYxL7I0eQAAABpJREFUeJxjYmBgYGBgYGBgYGEIAQEAIAAKQgAFAwB0rQAAAABJRU5ErkJggg==');
    background-size: 100%, 100%, 2px 2px; /* –ü—Ä–∏–º–µ–Ω—è–µ–º —Ä–∞–∑–º–µ—Ä 2x2px —Ç–æ–ª—å–∫–æ –¥–ª—è —à—É–º–∞ */
    
    color: white; font-family: 'Orbitron', sans-serif; 
    height: 100vh; overflow: hidden; 
    display: flex; flex-direction: column;
}

.screen { display: none; height: 100%; flex-direction: column; width: 100%; position: relative; }
.screen.active { display: flex; }

/* --- –õ–û–ë–ë–ò --- */
.lobby-container { 
    flex-grow: 1; display: flex; flex-direction: column; 
    justify-content: center; align-items: center; 
    background: radial-gradient(circle, rgba(255,0,85,0.1) 0%, rgba(0,0,0,0) 70%);
}
.logo { font-size: 70px; font-weight: 800; text-shadow: 0 0 30px var(--neon-pink); margin-bottom: 20px; letter-spacing: -3px; }
.online-tag { 
    background: rgba(0, 255, 136, 0.1); color: #00ff88; 
    padding: 8px 16px; border-radius: 20px; font-size: 12px; 
    border: 1px solid rgba(0, 255, 136, 0.2); margin-bottom: 30px; font-weight: bold;
}

.big-btn {
    background: linear-gradient(135deg, #ff0055, #ff00aa);
    width: 220px; height: 220px; border-radius: 50%; border: none;
    color: white; font-size: 32px; font-weight: 900;
    box-shadow: 0 0 50px rgba(255, 0, 85, 0.5); cursor: pointer;
    position: relative; z-index: 9999; pointer-events: auto;
    display: flex; align-items: center; justify-content: center;
    animation: pulse 2s infinite; text-transform: uppercase;
}
@keyframes pulse { 
    0% { transform: scale(1); } 50% { transform: scale(1.05); box-shadow: 0 0 70px rgba(255, 0, 85, 0.7); } 100% { transform: scale(1); } 
}

.bottom-nav {
    height: 80px; background: rgba(20, 20, 30, 0.95);
    display: flex; justify-content: space-around; align-items: center;
    border-top: 1px solid rgba(255,255,255,0.1); width: 100%; z-index: 1000;
}
.nav-item { font-size: 26px; opacity: 0.5; transition: 0.2s; cursor: pointer; }
.nav-item.active { opacity: 1; color: var(--neon-blue); transform: translateY(-5px); text-shadow: 0 0 10px var(--neon-blue); }

/* --- –ò–ì–†–û–í–û–ô –°–¢–û–õ --- */
.game-header { 
    padding: 15px 20px; display: flex; justify-content: space-between; 
    font-weight: 800; font-size: 14px; letter-spacing: 1px; color: #888;
}
#game-timer { color: white; font-size: 18px; text-shadow: 0 0 10px red; }

/* SPOTLIGHT */
.top-spotlight {
    position: absolute; top: 60px; left: 50%; transform: translateX(-50%);
    width: 90%; height: 60px;
    background: rgba(16, 16, 24, 0.9);
    border: 1px solid var(--neon-blue); border-radius: 15px;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    z-index: 50; box-shadow: 0 5px 20px rgba(0, 243, 255, 0.15);
    transition: all 0.3s ease;
}
.q-content { text-align: center; width: 100%; }
.q-label { font-size: 10px; color: var(--neon-blue); letter-spacing: 2px; margin-bottom: 2px; opacity: 0.8; }
.q-text { font-size: 14px; font-weight: 600; line-height: 1.2; padding: 0 10px; }

.player-content { display: none; width: 100%; align-items: center; justify-content: space-between; padding: 0 15px; }
.play-btn { font-size: 24px; color: var(--neon-blue); }
.wave-visual { flex-grow: 1; height: 4px; background: #333; margin: 0 10px; border-radius: 2px; position: relative; }
.wave-fill { height: 100%; width: 40%; background: white; border-radius: 2px; }

/* –°–ï–¢–ö–ê (–¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –æ–±–µ—Ä—Ç–∫—É) */
.center-wrapper {
    flex-grow: 1; 
    display: flex; 
    justify-content: center; 
    align-items: center;
    width: 100%;
    transform: translateY(-30px);
}

/* –°–ï–¢–ö–ê –ê–í–ê–¢–ê–†–û–í (–°–¥–≤–∏–Ω—É—Ç–∞ –≤–Ω–∏–∑) */
.table-grid { 
    /* –°–±—Ä–æ—Å —Ä—É—á–Ω—ã—Ö –æ—Ç—Å—Ç—É–ø–æ–≤ - —Ç–µ–ø–µ—Ä—å –∑–∞ —ç—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç –æ–±–µ—Ä—Ç–∫–∞ */
    margin: 0; padding: 0;
    
    /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É, —á—Ç–æ–±—ã –æ—Ç–ª–µ–ø–∏—Ç—å –æ—Ç –≤–æ–ø—Ä–æ—Å–∞ */
    padding-top: 50px; 
    padding-bottom: 50px; 

    display: grid; 
    grid-template-columns: 1fr 1fr; 
    gap: 30px 90px; 
}

.player-card { display: flex; flex-direction: column; align-items: center; position: relative; transition: transform 0.1s; }
.player-card:active { transform: scale(0.95); }

.avatar { 
    width: 100px; height: 100px; border-radius: 50%; 
    background: #222; background-size: cover; background-position: center;
    border: 3px solid #333; box-shadow: 0 5px 15px rgba(0,0,0,0.5); position: relative;
    animation: subtle-pulse 5s infinite ease-in-out; 
}

@keyframes subtle-pulse {
    0% { box-shadow: 0 0 5px rgba(255, 0, 255, 0.2); }
    50% { box-shadow: 0 0 10px rgba(0, 243, 255, 0.4); }
    100% { box-shadow: 0 0 5px rgba(255, 0, 255, 0.2); }
}

.notify-badge {
    position: absolute; top: 0; right: 0; width: 26px; height: 26px;
    background: var(--neon-blue); color: black; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 14px; border: 2px solid #000; transform: scale(0); transition: 0.3s;
}
.has-voice .notify-badge { transform: scale(1); }

.name-tag {
    margin-top: 8px; font-size: 12px; font-weight: 700;
    background: rgba(0,0,0,0.5); padding: 4px 10px; border-radius: 12px;
}

.team-left .avatar { border-color: var(--neon-pink); }
.team-right .avatar { border-color: var(--neon-blue); }
.blurred { filter: blur(12px); opacity: 0.9; }
.unblurred { filter: blur(0px); opacity: 1; animation: none; } /* –£–±–∏—Ä–∞–µ–º –ø—É–ª—å—Å –ø–æ—Å–ª–µ –∞–Ω–±–ª—é—Ä–∞ */


/* üü¢ –ü–†–ï–ú–ò–£–ú –ü–ê–ù–ï–õ–¨ (DASHBOARD) */
.controls-container {
    position: absolute; bottom: 20px; left: 10px; right: 10px;
    height: 140px;
    background: rgba(18, 18, 24, 0.85);
    backdrop-filter: blur(15px);
    border-radius: 35px;
    border: 1px solid rgba(255,255,255,0.08);
    box-shadow: 0 10px 40px rgba(0,0,0,0.6);
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    padding: 0 10px;
    z-index: 60;
}

.side-col {
    display: flex; flex-direction: column; gap: 12px; 
    justify-content: center; align-items: center;
}
.side-col.left { padding-right: 15px; align-items: flex-end; }
.side-col.right { padding-left: 15px; align-items: flex-start; }

.gift-btn {
    display: flex; align-items: center; gap: 10px;
    background: rgba(255,255,255,0.03); 
    padding: 8px 12px; border-radius: 18px;
    border: 1px solid transparent;
    transition: transform 0.1s; cursor: pointer;
    width: 90px;
    justify-content: space-between;
}
.gift-btn:active { transform: scale(0.95); background: rgba(255,255,255,0.1); }

.gift-icon { width: 24px; height: 24px; filter: drop-shadow(0 2px 5px rgba(0,0,0,0.5)); }
.gift-price { font-size: 11px; font-weight: 800; color: var(--gold); }

/* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ú–∏–∫—Ä–æ—Ñ–æ–Ω –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ */
.mic-wrapper {
            position: relative; 
            top: 0; /* –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∞—Ä—ã–π –æ—Ñ—Å–µ—Ç */
            display: flex; 
            flex-direction: column; /* –≠–ª–µ–º–µ–Ω—Ç—ã –∏–¥—É—Ç –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ */
            justify-content: center;
            align-items: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
            padding-bottom: 5px; /* –ù–µ–±–æ–ª—å—à–æ–π –æ—Ç—Å—Ç—É–ø –æ—Ç –Ω–∏–∂–Ω–µ–≥–æ –∫—Ä–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
}

.mic-btn {
            width: 90px; height: 90px;
            /* üëá –ò–ó–ú–ï–ù–ï–ù–ò–ï: –¢–µ–º–Ω—ã–π —Ñ–æ–Ω, —á—Ç–æ–±—ã —Å–≤–µ—á–µ–Ω–∏–µ –±—ã–ª–æ –≤–∏–¥–Ω–æ */
            background: rgba(255, 255, 255, 0.1); 
            border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            
            /* üëá –ò–ó–ú–ï–ù–ï–ù–ò–ï: –ù–µ–æ–Ω–æ–≤—ã–π —Å–∏–Ω–∏–π –æ–±–æ–¥–æ–∫ –∏ —Ç–µ–Ω—å */
            box-shadow: 0 0 0 3px rgba(0, 243, 255, 0.5), 0 10px 25px rgba(0, 0, 0, 0.7);
            border: 2px solid var(--neon-blue); /* –ß–µ—Ç–∫–∏–π —Å–∏–Ω–∏–π –æ–±–æ–¥–æ–∫ */
            
            font-size: 40px; cursor: pointer; z-index: 70;
            transition: transform 0.1s;
}

.mic-btn:active { transform: scale(0.95); }

.mic-icon { 
            width: 40px; height: 40px; 
            fill: var(--neon-blue); /* –ò–∫–æ–Ω–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∏–Ω–µ–π */
}

.mic-btn.recording { 
            background: #ff0055; /* –ö—Ä–∞—Å–Ω–∞—è –∑–∞–ª–∏–≤–∫–∞ */
            box-shadow: 0 0 60px #ff0055; /* –Ø—Ä–∫–æ–µ –∫—Ä–∞—Å–Ω–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ */
}
.mic-btn.recording .mic-icon { 
            fill: white; /* –ò–∫–æ–Ω–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–µ–ª–æ–π –Ω–∞ –∫—Ä–∞—Å–Ω–æ–º —Ñ–æ–Ω–µ */
}

.keyboard-btn { 
            position: relative; /* –í—Å—Ç–∞–µ—Ç –≤ –ø–æ—Ç–æ–∫ –ø–æ—Å–ª–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ */
            margin-top: 10px; /* –û—Ç—Å—Ç—É–ø –æ—Ç –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ */
            
            /* –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ absolute/corner —Å—Ç–∏–ª–∏ */
            right: auto;
            bottom: auto;
            
            width: 45px; height: 45px; 
            background: transparent; 
            border-radius: 0; display: flex; justify-content: center; align-items: center;
            cursor: pointer; z-index: 80;
}
.kb-icon { width: 20px; height: 20px; fill: white; opacity: 0.6; }

/* –†–µ–∂–∏–º –∑–∞–ø–∏—Å–∏ */
.recording-mode .side-col, .recording-mode .keyboard-btn { opacity: 0.2; pointer-events: none; transition: 0.3s; }

/* –ì–û–õ–û–°–û–í–ê–ù–ò–ï */
.vote-layer { 
    position: absolute; inset: 0; background: rgba(0,0,0,0.95); z-index: 90; 
    display: none; flex-direction: column; align-items: center; padding-top: 80px; backdrop-filter: blur(5px);
}
.vote-title { font-size: 26px; font-weight: 800; color: white; margin-bottom: 10px; }
.skip-btn { 
    position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%);
    background: transparent; border: 1px solid #555; color: #888; 
    padding: 12px 0; width: 60%; border-radius: 30px; font-size: 14px; font-weight: bold; cursor: pointer; 
}

#match-overlay { background: #000; z-index: 200; justify-content: center; align-items: center; }
.match-title { font-size: 40px; font-weight: 900; color: transparent; -webkit-text-stroke: 1px var(--neon-pink); margin-bottom: 30px; text-transform: uppercase; }
.match-avatars { display: flex; gap: 20px; align-items: center; }
.match-ava { width: 110px; height: 110px; border-radius: 50%; border: 4px solid var(--neon-pink); background-size: cover; }
.match-btn { background: var(--neon-blue); color: black; border: none; padding: 15px 40px; border-radius: 30px; font-weight: 900; margin-top: 50px; box-shadow: 0 0 20px var(--neon-blue); }
.highlight { z-index: 100; transform: scale(1.15); }
.highlight .avatar { border-color: #00ff88; box-shadow: 0 0 30px #00ff88; }


/* üü¢ –°–¢–ò–õ–ò –î–õ–Ø –£–í–ï–õ–ò–ß–ï–ù–ù–û–ì–û –ü–†–û–°–ú–û–¢–†–ê */
#zoom-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0, 0, 0, 0.95); 
    display: none; 
    justify-content: center;
    align-items: center;
}
#zoom-overlay.active { display: flex !important; }

/* üü¢ –ê–î–ê–ü–¢–ê–¶–ò–Ø (–ú–µ–¥–∏–∞–∑–∞–ø—Ä–æ—Å—ã) */

/* ü§è –ê–î–ê–ü–¢–ê–¶–ò–Ø –î–õ–Ø –ú–ê–õ–ï–ù–¨–ö–ò–• –¢–ï–õ–ï–§–û–ù–û–í (iPhone SE, 8, Mini) */
@media (max-height: 700px) {
    
    .controls-container {
        height: 100px; /* –°–∂–∏–º–∞–µ–º –ø–∞–Ω–µ–ª—å */
        bottom: 10px;
    }
    
    .mic-btn { width: 70px; height: 70px; } /* –£–º–µ–Ω—å—à–∞–µ–º –º–∏–∫—Ä–æ—Ñ–æ–Ω */
    .mic-icon { width: 30px; height: 30px; }
    .mic-wrapper { top: -25px; }

    /* –£–º–µ–Ω—å—à–∞–µ–º –ø–æ–¥–∞—Ä–∫–∏ */
    .gift-btn { padding: 4px 8px; width: 80px; }
    .gift-icon { width: 20px; height: 20px; }
    .gift-price { font-size: 9px; }
    
    /* –°–∂–∏–º–∞–µ–º —Å–µ—Ç–∫—É –∏ –∞–≤–∞—Ç–∞—Ä–∫–∏ */
    .table-grid {
        margin-top: 80px; 
        padding-bottom: 120px;
        gap: 10px;
    }
    .avatar { width: 70px; height: 70px; } /* –ë—ã–ª–æ 100 */
    
    /* –£–º–µ–Ω—å—à–∞–µ–º –≤–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫ */
    .top-spotlight { top: 50px; height: 50px; }
    .game-header { padding: 10px; font-size: 12px; }
}

/* üì± –û–ì–†–ê–ù–ò–ß–ò–¢–ï–õ–¨ –î–õ–Ø –ü–õ–ê–ù–®–ï–¢–û–í –ò –ü–ö */
@media (min-width: 500px) {
    body {
        max-width: 480px; 
        margin: 0 auto; 
        border-left: 1px solid #333; 
        border-right: 1px solid #333;
        background: #000; 
    }
    
    .controls-container, .bottom-nav, .top-spotlight, .vote-layer, .gift-shelf {
        max-width: 480px;
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
    }
    
    .skip-btn { transform: translateX(-50%); } 
}
